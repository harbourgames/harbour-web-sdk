!function(){"use strict";function e(){var e={};for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];!function n(t){if(Array.isArray(t))t.forEach(n);else for(var o in t)e[o]=t[o]}(t);var r="";for(var i in e){r+=i+":"+e[i]+";"}return r}var n={addLoader:function(n){var o=void 0;if(n&&n.backgroundImage){var r={"background-image":"url("+n.backgroundImage+")"};o=e([t.loader,r])}else o=e(t.loader);var i=void 0;if(n&&n.iconImage){var a={"background-image":"url("+n.iconImage+")"};i=e([t.icon,a])}else i=e(t.icon);var c="<div id='harbour-loader' style='"+o+"'>\n  <div class='harbour-cover' style='"+e(t.cover)+"'></div>\n  <div class='harbour-loader' style='"+e(t.middleLoader)+"'>\n    <div class='harbour-spinner' style='"+e(t.spinner)+"'></div>\n    <div class='harbour-spinner-icon' style='"+i+"'></div>\n  </div>\n  <div id='harbour-loader-text' style='"+e(t.loaderText)+"'>0% Loaded</div>\n</div>",s=document.createElement("div");s.innerHTML=c,document.body.appendChild(s.firstChild);var u=document.createElement("style");u.type="text/css",u.appendChild(document.createTextNode("@keyframes harbour-loader-spinner {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n")),document.head.appendChild(u)},removeLoader:function(){var e=document.getElementById("harbour-loader");document.body.removeChild(e)},setLoaderText:function(e){document.getElementById("harbour-loader-text").innerText=e},addLoginButton:function(){o("<div id='harbour-loader-login-button' style='"+e(t.loginButton)+"' onclick='window.HarbourSDK.player.onLoginButtonPress()'>\n  <svg xmlns='http://www.w3.org/2000/svg' style='"+e(t.loginIcon)+"' viewBox='0 0 216 216' color='#FFFFFF'>\n    <path fill='#FFFFFF' d='\n M204.1 0H11.9C5.3 0 0 5.3 0 11.9v192.2c0 6.6 5.3 11.9 11.9\n 11.9h103.5v-83.6H87.2V99.8h28.1v-24c0-27.9 17-43.1 41.9-43.1\n 11.9 0 22.2.9 25.2 1.3v29.2h-17.3c-13.5 0-16.2 6.4-16.2\n 15.9v20.8h32.3l-4.2 32.6h-28V216h55c6.6 0 11.9-5.3\n 11.9-11.9V11.9C216 5.3 210.7 0 204.1 0z'>\n    </path>\n  </svg>\n  <div style='"+e(t.buttonText)+"'>Continue With Facebook</div>\n</div>")},removeLoginButton:function(){var e=document.getElementById("harbour-loader-login-button"),n=document.getElementById("harbour-loader");e&&n&&n.removeChild(e)},addBlockError:function(){o("<div style='"+e(t.errorText)+"'>\n  Error communicating with Facebook.<br/>\n  This site requires Facebook login.<br/>\n  Please check your adblocker or reload the page.\n</div>")}},t={loader:{position:"absolute",top:0,bottom:0,left:0,right:0,background:"transparent center center no-repeat","background-size":"cover",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center","font-family":"Helvetica, Arial, sans-serif","font-weight":"normal"},cover:{"z-index":"0",position:"absolute",top:0,bottom:0,left:0,right:0,background:"rgba(0,0,0,0.3)",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"},middleLoader:{"z-index":"1",position:"relative",width:"100px",height:"100px","border-radius":"50%",overflow:"hidden"},icon:{position:"absolute",top:0,bottom:0,left:0,right:0,margin:"10px","border-radius":"50%",background:"#333 center center no-repeat","background-size":"cover"},spinner:{position:"absolute",top:0,bottom:0,left:0,right:0,border:"10px solid","border-color":"blue black blue black","border-radius":"50%",animation:"harbour-loader-spinner 2s linear infinite"},loaderText:{"z-index":"1","margin-top":"20px",color:"white","font-size":"16px","font-weight":"bold","font-family":"inherit","text-shadow":"0 0 5px black"},loginButton:{position:"absolute",bottom:"60px","margin-left":"auto","margin-right":"auto",height:"40px",width:"236px",background:"#4267b2","border-radius":"4px",cursor:"pointer",display:"flex","flex-direction":"row","justify-content":"center","align-items":"center"},loginIcon:{position:"absolute",top:"8px",left:"10px",width:"24px",height:"24px"},buttonText:{"margin-left":"24px","margin-top":"2px",color:"white","font-size":"16px","font-family":"inherit"},errorText:{"z-index":"1","margin-top":"10px",padding:"20px",color:"red","font-size":"16px","font-family":"inherit","text-align":"center","text-shadow":"0 0 5px black"}};function o(e){var n=document.getElementById("harbour-loader"),t=document.createElement("div");t.innerHTML=e,n.appendChild(t.firstChild)}var r={setConfig:function(e){a=e.facebookAppId},isLoggedIn:function(){return c},checkLoginStatus:m,login:v,onLoginButtonPress:function(){v()},setLoginCallback:function(e){p=e},getID:y,getName:function(){return d},getPhoto:function(){return l},getEmail:function(){return u},getDataAsync:function(){},setDataAsync:function(){},getStatsAsync:function(){},setStatsAsync:function(){},incrementStatsAsync:function(){},flushDataAsync:function(){},getConnectedPlayersAsync:function(){return Promise.reject({code:"CLIENT_UNSUPPORTED_OPERATION"})},getSignedPlayerInfoAsync:function(){return Promise.resolve({getSignature:function(){return f},getPlayerID:y,getAppID:function(){return a},getAccessToken:function(){return g}})},canSubscribeBotAsync:function(){return Promise.reject({code:"CLIENT_UNSUPPORTED_OPERATION"})},subscribeBotAsync:function(){return Promise.reject({code:"CLIENT_UNSUPPORTED_OPERATION"})}},i=/i(Phone|Pad|Pod)/,a=void 0,c=!1,s=void 0,u=void 0,d=void 0,l=void 0,f=void 0,g=void 0,p=void 0;function m(e){window.FB.getLoginStatus(function(n){if("connected"===n.status){var t=!g;s=n.authResponse.userID,f=n.authResponse.signedRequest,g=n.authResponse.accessToken,t&&b(null,e)}else c=!1,e&&e()})}function v(){if(window.navigator&&window.navigator.standalone&&!i.test(navigator.platform))!function(){addEventListener("message",h);var e="https://www.facebook.com/v3.1/dialog/oauth?"+function(e){var n=[];for(var t in e){var o=e[t];n.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}return n.join("&")}({client_id:a,display:"popup",scope:"email",response_type:"token,granted_scopes",auth_type:"rerequest",redirect_uri:window.location.origin+"/fb_login_complete.html"}),n=window.open(e,"Facebook Login","width=500,height=500"),t=setInterval(function(){n.closed&&(clearInterval(t),removeEventListener("message",h),g||m())},100)}();else{var e={scope:"email"};window.FB.login(function(e){e&&"connected"===e.status&&(s=e.authResponse.userID,f=e.authResponse.signedRequest,g=e.authResponse.accessToken,b())},e)}}function h(e){if(e&&e.data){var n={};new URL(e.data).hash.substring(1).split("&").forEach(function(e){var t=e.split("=");n[t[0]]=t[1]}),n.access_token&&!g&&b(g=n.access_token)}}function b(e,t){var o={fields:"id,email,name,picture.type(large)"};e&&(o.access_token=e),window.FB.api("/me",o,function(e){var o;!e||e.error?console.error("FB login failed:",e):(s=e.id,u=e.email,d=e.name,o=e.picture,l=o&&o.data&&o.data.url,c=!0,p&&p(),p=null,n.removeLoginButton()),t&&t()})}function y(){return s}var w={setConfig:function(e){A=e.stripeConfig,L=A&&A.is_sandbox},onReady:function(e){E?e&&e():x?x.push(e):(x=[e],n=P,t=function(e){e||(I=window.StripeCheckout.configure(A),E=!0),x.forEach(function(e){return e&&e()}),x.splice(0)},(o=document.createElement("script")).onerror=t,o.onload=function(e){return t(null,e)},document.head.appendChild(o),o.src=n);var n,t,o},getCatalogAsync:function(){return Promise.resolve([])},purchaseAsync:function(e){var n=e.productID,t=e.description,o=e.amountUsd;return new Promise(function(e,r){var i=!1;I.open({description:t,amount:Math.round(100*o),token:function(t){if(t&&t.id){var o=t.id;e({paymentID:"...",productID:n,purchaseTime:String(Math.round(Date.now()/1e3)),purchaseToken:o,signedRequest:"...",stripeTokenId:o,stripeCardFingerprint:t.card&&t.card.fingerprint,stripeEmail:t.email,isSandbox:L})}else i||(r({code:"USER_INPUT"}),i=!0)},closed:function(){i||(r({code:"USER_INPUT"}),i=!0)}})})},getPurchasesAsync:function(){return Promise.resolve([])},consumePurchaseAsync:function(){return Promise.resolve()}},P="https://checkout.stripe.com/checkout.js",E=!1,x=null,I=null,A=void 0,L=!1;window.addEventListener("popstate",function(){I&&I.close()});var T=void 0;function k(e){var n,t,o,r,i;window.fbAsyncInit=function(){FB.init({appId:T,autoLogAppEvents:!1,xfbml:!1,version:"v3.2"}),e()},n=document,t="script",o="facebook-jssdk",i=n.getElementsByTagName(t)[0],n.getElementById(o)||((r=n.createElement(t)).id=o,r.onerror=e,r.src="https://connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(r,i))}var C={player:r,context:{getID:function(){return null},chooseAsync:function(){return Promise.reject({code:"USER_CANCEL"})},switchAsync:function(){return Promise.reject({code:"USER_CANCEL"})},createAsync:function(){return Promise.reject({code:"USER_CANCEL"})},getType:function(){return"SOLO"},isSizeBetween:function(){return null},getPlayersAsync:function(){return Promise.reject({code:"CLIENT_UNSUPPORTED_OPERATION"})}},payments:w,getLocale:function(){var e="en-US";window.navigator&&(window.navigator.language?e=window.navigator.language:window.navigator.languages&&window.navigator.languages[0]&&(e=window.navigator.languages[0]));return e},initializeAsync:function(e){return T=e.facebookAppId,r.setConfig(e),w.setConfig(e),new Promise(function(t){n.addLoader(e),t(),function e(n,t,o){var r=t[n];r?r(function(r){r?o(r):e(n+1,t,o)}):o()}(0,[k,r.checkLoginStatus],function(e){e?n.addBlockError():r.isLoggedIn()||n.addLoginButton()})})},setLoadingProgress:function(e){return new Promise(function(t){n.setLoaderText(e.toFixed()+"% Loaded"),t()})},startGameAsync:function(){return new Promise(function(e){function t(){n.removeLoader(),e()}r.isLoggedIn()?t():(n.setLoaderText("Login to Continue"),r.setLoginCallback(t))})},quit:function(){window.close()},updateAsync:function(){return Promise.reject({code:"CLIENT_UNSUPPORTED_OPERATION"})},getEntryPointData:function(){return{}},getEntryPointAsync:function(){return Promise.resolve(null)},setSessionData:function(){},getPlatform:function(){return"WEB"},getSDKVersion:function(){return"6.2"},getSupportedAPIs:function(){var e=[];for(var n in C)e.push(n);for(var t in C.player)e.push("player."+t);for(var o in C.context)e.push("context."+o);for(var r in C.payment)e.push("payment."+r);return e},shareAsync:function(){return Promise.reject({code:"USER_CANCEL"})},switchGameAsync:function(){return Promise.reject({code:"CLIENT_UNSUPPORTED_OPERATION"})},logEvent:function(){return null},onPause:function(e){window.onblur=e},getInterstitialAdAsync:function(){return Promise.reject({code:"CLIENT_UNSUPPORTED_OPERATION"})},getRewardedVideoAsync:function(){return Promise.reject({code:"CLIENT_UNSUPPORTED_OPERATION"})},getLeaderboardAsync:function(){return Promise.reject({code:"CLIENT_UNSUPPORTED_OPERATION"})}};window.HarbourSDK=C,window.FBInstant=window.FBInstant||C}();
//# sourceMappingURL=harbour-web-sdk.min.js.map
